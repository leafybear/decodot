####    TMUX CONFIG   #####
#-------------------------#

#- Set prefix
unbind C-b
set-option -g prefix C-x
bind-key C-x send-prefix

#- Reload config file
unbind r
bind-key r source-file ~/.tmux.conf \; display-message "~/.tmux.conf reloaded"
bind-key M split-window -h "vim ~/.tmux.conf"

# switch panes using Alt-arrow without prefix
bind -n M-Left select-pane -L
bind -n M-Right select-pane -R
bind -n M-Up select-pane -U
bind -n M-Down select-pane -D

# Resize panes with shift and arrow keys
bind -n S-Left resize-pane -L 2
bind -n S-Right resize-pane -R 2
bind -n S-Down resize-pane -D 1
bind -n S-Up resize-pane -U 1

# Make pane splitting more intuitive
bind | split-window -h -c "#{pane_current_path}"
bind - split-window -v -c "#{pane_current_path}"
unbind '"'
unbind %

# And more intuitive pane swapping
bind -r < swap-window -t -1
bind -r > swap-window -t +1

# Easy rotating of panes
bind C-k swap-pane -U

# Equalize pane splits
unbind space
bind x select-layout even-vertical

# Kill window with K
unbind &
bind k killp

# Make Prefix + 0 go to window number 10
bind 0 select-window -t :10

# Make C-j display a selectable list of sessions
bind C-j choose-tree

##### FORMATTING #############

set -g clock-mode-style 12

# Use ascii chars for borders
set-option -ga terminal-overrides ',*:enacs@:smacs@:rmacs@:acsc@'

# improve colors
set -g default-terminal 'screen-256color'

# Enable utf-8 encoding
setw -g utf8 on

# Enable vi-style keys instead of the default emacs-style keys (I am a Vim user):
set -g status-keys vi
setw -g mode-keys vi

# Disable the delay between an escape key press and other keys (for vim)
set -sg escape-time 0

# Pass xterm-style keys
setw -g xterm-keys on

#- Start windows and panes at 1, not 0
set -g base-index 1
set -g pane-base-index 1
#- renumber them when one closes
set -g renumber-windows on
set -g status-utf8 on

# Don't rename windows automatically
set-option -g allow-rename off
# Don't name new windows by default
bind-key , command-prompt "rename-window '%%'"
# Don't display original window name when renaming
bind , command-prompt -p "(rename-window '#W')" "rename-window '%%'"
# Do the same for session names (Prefix + $):
bind '$' command-prompt -p "(rename-session '#S')" "rename-session '%%'"

#- Window title
set-option -g set-titles on
set-option -g set-titles-string '[#S:#I] #W'
set-window-option -g automatic-rename on

# Expand history
set -g history-limit 10000

# Highlight window activity in status line
setw -g monitor-activity on

# Don't display "Activity in window" messages
set -g visual-activity off

##### COLOR AND THEMING ######
# Panes.
#set -g pane-border-fg black
#set -g pane-border-bg default
#set -g pane-active-border-fg cyan
#set -g pane-active-border-bg default

# Status Line
#set -g status-left ''
#set -g status-right '#[fg=magenta,bg=black] %b %d %Y #[fg=black,bg=blue] %R '
#set -g status-right-length 100
#set -g status-bg default
#setw -g window-status-format '#[fg=cyan,bg=black] #I #[fg=cyan,bg=black] #W '
#setw -g window-status-current-format '#[fg=white,bg=blue] #I #[fg=white,bg=magenta] #W '



##+ messages:
set-window-option -g mode-bg magenta
set-window-option -g mode-fg black
set-option -g message-bg magenta
set-option -g message-fg black

##+ panes:
set-option -g pane-border-fg black
set-option -g pane-border-bg default
set-option -g pane-active-border-fg white
set-option -g pane-active-border-bg default

##+ status bar:
set-option -g status-utf8 on
set-option -g status-justify right
set-option -g status-bg '#0e0e0e'
set-option -g status-fg '#222222'
set-option -g status-interval 5
set-option -g status-left-length 60
set-option -g status-left '#[fg=#222222]## #[fg=#555555]#T#[default]'
set-option -g status-right '#[fg=#333333]#S:#P#[default]'
set-option -g visual-activity on
set-window-option -g monitor-activity on
set-window-option -g window-status-current-bg '#0e0e0e'
set-window-option -g window-status-current-fg '#3d3a3a'
set-window-option -g window-status-bg '#0e0e0e'
set-window-option -g window-status-fg '#222222'

##+ clock:
set-window-option -g clock-mode-colour cyan
set-window-option -g clock-mode-style 24
